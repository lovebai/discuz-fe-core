## 部署升级常见问题

### Discuz! Q 3.0 是直接升级吗？ 支持回退吗？

- 升级方式基本不变，原有的2.x站可直接升级；不支持回退；建议升级前先做备份。

&emsp;

### Discuz! Q 3.0出来后会马上有X转Q3.0的转换程序吗？还是说X得先转Q2.0再从Q2.0升级到3.0？

- X转3.0，暂时不提供；3.0正式版本丰富完成后，再计划安排x转3.0的官方方案；X转3.0的，请先转2.x逐版升级至3.0，更稳定可靠。

&emsp;

### Discuz! Q 3.0 升级后内容、数据、账户是否继承？

- 数据、内容会兼容，展示形式可能应功能调整而有差异；账户信息会继承2.x的。


&emsp;

### 3.0版小程序如何构建发布？

 目前提供两种方式构建发布新版小程序： 

 1. 手动编译上传，参考文档: [#构建小程序](https://discuz.com/docs/%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#%E6%9E%84%E5%BB%BA%E5%B0%8F%E7%A8%8B%E5%BA%8F)
 1. 使用官方小程序构建助手编译（推荐），下载地址参考帖子 https://discuz.chat/thread/55380

&emsp;

### 云开发/开源应用中心的公众号场景下如何上传校验文件到项目目录下(支付证书上传方式类似)

1. 把公众号校验文件，上传到云托管，复制文件访问地址
2. 登录 webshell 控制面板
3. 输入命令 `cd /var/www/discuz/public`
4. `curl -O https://wilsonsliu-4ecec0-1252395194.tcloudbaseapp.com/xxxx.txt`

&emsp;

### 云开发/开源应用中心的Discuz! Q如何升级

- 目前有更新时会自动拉取最新云开发镜像升级，无需手动操作


&emsp;

### 手动编译构建小程序一直显示 监听文件修改中........

- 编译构建命令执行错误，正确方式是在mini目录下执行 `npm i---npm run build`（不是`npm run dev`）


&emsp;
### 微信开发者工具上传小程序失败提示：`missed semicolon`

- 开发者工具本地设置，只勾选压缩混淆、不校验合法域名、启动多核心编译三项


&emsp;
### docker方式安装提示：“安装出错：`SQLSTATE[HY000] [2002] No such file or directory`” 

- Mysql Host由`localhost`改为`127.0.0.1`即可

&emsp;

### 小程序构建助手编译时提示“缺少npm包...”

- 尝试修改构建助手的项目设置--NPM镜像地址，修改为其他友商地址重试



